<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JetPackJoyRide: ROS2 Lane keeping workspace</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">JetPackJoyRide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ROS2 Lane keeping workspace </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Overview</h2>
<p>This ROS2-based system runs on a Jetson Nano and processes camera input to detect lane markings and control vehicle motion accordingly. The system consists of multiple nodes that handle image capture, lane detection, motion control, and visualization.</p>
<h3>High-Level System Flow:</h3>
<ol type="1">
<li><b>Camera Node</b>: Captures and publishes raw image data.</li>
<li><b>Vision Processing Nodes</b>: Extract lane markings and publish lane position data.</li>
<li><b>Motion Control Node</b>: Estimates lane distance and adjusts steering.</li>
<li><b>Lane Visualization Node</b>: Publishes processed lane data for visualization in Rviz.</li>
</ol>
<h2>Software architecture</h2>
<div class="image">
<img src="../.github/images/software_architecture.png" alt="System Diagram"/>
</div>
<h2>Node Descriptions</h2>
<h3>1. Camera Node (<code>camera</code>)</h3>
<p><b>Function</b>: Captures image frames and publishes them.</p><ul>
<li><b>Publishes</b>:<ul>
<li><code>/image_raw</code> (sensor_msgs::Image)</li>
</ul>
</li>
</ul>
<h3>2. Classic Vision Node (<code>classic_vision</code>)</h3>
<p><b>Function</b>: Processes raw images to detect lane markings using OpenCV.</p><ul>
<li><b>Subscribes</b>:<ul>
<li><code>/image_raw</code> (sensor_msgs::Image)</li>
</ul>
</li>
<li><b>Publishes</b>:<ul>
<li><code>/lane_position</code> (custom message)</li>
</ul>
</li>
<li><b>Parameters</b>:<ul>
<li><code>low_canny_threshold</code> / <code>high_canny_treshold</code>: Edge detection parameters</li>
<li><code>hough_transform_params</code>: Line detection parameters<ul>
<li><code>max_detected_lines</code></li>
<li><code>max_line_gap</code></li>
<li><code>mine_line_length</code></li>
<li><code>rho</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>3. Classic Vision Node (<code>classic_vision</code>)</h3>
<p><b>Function</b>: Processes raw images to detect lane markings using TensorRT.</p><ul>
<li><b>Subscribes</b>:<ul>
<li><code>/image_raw</code> (sensor_msgs::Image)</li>
</ul>
</li>
<li><b>Publishes</b>:<ul>
<li><code>/lane_position</code> (custom message)</li>
</ul>
</li>
</ul>
<h3>4. Image Publisher Node (<code>image_publisher</code>)</h3>
<p><b>Function</b>: Auxiliary node for testing image data flow.</p><ul>
<li><b>Publishes</b>:<ul>
<li><code>/debug_image</code> (sensor_msgs::Image)</li>
</ul>
</li>
<li><b>Parameters</b>:<ul>
<li><code>image_name</code>: image from assets folder</li>
</ul>
</li>
</ul>
<h3>5. Lane Messages (<code>lane_msgs</code>)</h3>
<p><b>Function</b>: Defines custom message types for lane detection data.</p><ul>
<li><b>Custom Messages</b>:<ul>
<li><code>LanePosition.msg</code>: Lane position relative to vehicle</li>
</ul>
</li>
</ul>
<h3>6. Lane Visualization (<code>lane_visualization</code>)</h3>
<p><b>Function</b>: Publishes visual representation of lane_position.</p><ul>
<li><b>Subscribes</b>:<ul>
<li><code>/lane_position</code> (custom message)</li>
</ul>
</li>
<li><b>Publishes</b>:<ul>
<li><code>/processed_img</code> (sensor_msgs::Image)</li>
</ul>
</li>
</ul>
<h3>7. Motion Control Node (<code>motion_control</code>)</h3>
<p><b>Function</b>: Computes steering commands based on lane position.</p><ul>
<li><b>Subscribes</b>:<ul>
<li><code>/lane_position</code> (custom message)</li>
</ul>
</li>
<li><b>Publishes</b>:<ul>
<li><code>/cmd_vel</code> (geometry_msgs::Twist)</li>
</ul>
</li>
<li><b>Parameters</b>:<ul>
<li><code>base_speed</code>: base speed of vehicle</li>
<li><code>lookahead_index</code>: distance (in buckets) to the reference point</li>
<li><code>kp</code>, <code>ki</code>, <code>kd</code>: proportional, integral and derivative gain. </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
