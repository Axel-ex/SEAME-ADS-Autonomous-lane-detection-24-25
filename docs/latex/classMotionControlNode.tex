\hypertarget{classMotionControlNode}{}\section{Motion\+Control\+Node Class Reference}
\label{classMotionControlNode}\index{Motion\+Control\+Node@{Motion\+Control\+Node}}


Recieves lane positions, calculate lane center and steer to keep the vehicle in the center of the lane.  




{\ttfamily \#include $<$Motion\+Control\+Node.\+hpp$>$}



Inheritance diagram for Motion\+Control\+Node\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=181pt]{classMotionControlNode__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Motion\+Control\+Node\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classMotionControlNode__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classMotionControlNode_ad1497ac89b446c40635e05da0313b922}\label{classMotionControlNode_ad1497ac89b446c40635e05da0313b922}} 
void {\bfseries init\+P\+I\+D\+Controller} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classMotionControlNode_a282a762671c7b667f174717ff0dcea20}\label{classMotionControlNode_a282a762671c7b667f174717ff0dcea20}} 
void {\bfseries lane\+Position\+Callback} (lane\+\_\+msgs\+::msg\+::\+Lane\+Positions\+::\+Shared\+Ptr lane\+\_\+msg)
\item 
\mbox{\Hypertarget{classMotionControlNode_a67cc5bcda286ffbe809d0555bdaf6a8d}\label{classMotionControlNode_a67cc5bcda286ffbe809d0555bdaf6a8d}} 
void {\bfseries separate\+And\+Order\+Coordinates} (const std\+::vector$<$ Point32 $>$ \&points, std\+::vector$<$ double $>$ \&x, std\+::vector$<$ double $>$ \&y)
\item 
\mbox{\Hypertarget{classMotionControlNode_acab5e28f36d5a16521c38073077e2b1d}\label{classMotionControlNode_acab5e28f36d5a16521c38073077e2b1d}} 
void {\bfseries calculate\+Polyfit\+Coefs} (std\+::vector$<$ double $>$ \&left\+\_\+coefs, std\+::vector$<$ double $>$ \&right\+\_\+coefs, lane\+\_\+msgs\+::msg\+::\+Lane\+Positions\+::\+Shared\+Ptr lane\+\_\+msg)
\item 
Point32 \hyperlink{classMotionControlNode_a2c48d9d1ef7222d03c69f8dc86cd1842}{find\+Lane\+Center} (const std\+::vector$<$ double $>$ \&left\+\_\+coef, const std\+::vector$<$ double $>$ \&right\+\_\+coef, int img\+\_\+height)
\begin{DoxyCompactList}\small\item\em Find lane center at fix distance img\+\_\+height -\/ \char`\"{}lookahead\+\_\+index\char`\"{}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotionControlNode_a9a30201e0d7cb92779f222c38804ec03}\label{classMotionControlNode_a9a30201e0d7cb92779f222c38804ec03}} 
Point32 {\bfseries find\+Heading\+Point} (int img\+\_\+width, int img\+\_\+height)
\item 
\mbox{\Hypertarget{classMotionControlNode_abad42e896700d175ae870d3eed4a79ea}\label{classMotionControlNode_abad42e896700d175ae870d3eed4a79ea}} 
void {\bfseries calculate\+And\+Publish\+Controls} (Point32 \&lane\+\_\+center, Point32 \&heading\+\_\+point, int img\+\_\+width)
\item 
\mbox{\Hypertarget{classMotionControlNode_a2f890913a81fdb965348897dbd972a77}\label{classMotionControlNode_a2f890913a81fdb965348897dbd972a77}} 
void {\bfseries publish\+Polyfit\+Coefficients} (const std\+::vector$<$ double $>$ \&left\+\_\+coefs, const std\+::vector$<$ double $>$ \&right\+\_\+coefs, Point32 \&lane\+\_\+center)
\item 
\mbox{\Hypertarget{classMotionControlNode_a9ab1d5f6c9141de3c04ce19bc29e14a6}\label{classMotionControlNode_a9ab1d5f6c9141de3c04ce19bc29e14a6}} 
void {\bfseries stop\+Vehicle} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classMotionControlNode_ab153e88844739c39e94bf0ba8540251e}\label{classMotionControlNode_ab153e88844739c39e94bf0ba8540251e}} 
\hyperlink{classLaneBuffer}{Lane\+Buffer} {\bfseries lane\+\_\+buffer\+\_\+}
\item 
\mbox{\Hypertarget{classMotionControlNode_a9848ef14a93e7123e9ce374b422d7952}\label{classMotionControlNode_a9848ef14a93e7123e9ce374b422d7952}} 
\hyperlink{classPIDController}{P\+I\+D\+Controller} {\bfseries pid\+\_\+controller\+\_\+}
\item 
\mbox{\Hypertarget{classMotionControlNode_a62db65bd876573bdd43ffe25bfb6e7c5}\label{classMotionControlNode_a62db65bd876573bdd43ffe25bfb6e7c5}} 
\hyperlink{classKalmanFilter}{Kalman\+Filter} {\bfseries kalmman\+\_\+filter\+\_\+}
\item 
\mbox{\Hypertarget{classMotionControlNode_a6fa75a61f3fe7005de566cd309ae9c89}\label{classMotionControlNode_a6fa75a61f3fe7005de566cd309ae9c89}} 
rclcpp\+::\+Subscription$<$ lane\+\_\+msgs\+::msg\+::\+Lane\+Positions $>$\+::Shared\+Ptr {\bfseries lane\+\_\+pos\+\_\+sub\+\_\+}
\item 
\mbox{\Hypertarget{classMotionControlNode_adc9d49fff416c5cb0876d0faca92b081}\label{classMotionControlNode_adc9d49fff416c5cb0876d0faca92b081}} 
rclcpp\+::\+Publisher$<$ lane\+\_\+msgs\+::msg\+::\+Polyfit\+Coefs $>$\+::Shared\+Ptr {\bfseries polyfit\+\_\+coefs\+\_\+pub\+\_\+}
\item 
\mbox{\Hypertarget{classMotionControlNode_a372b6363a6aaa816636bb3dc9e371eb1}\label{classMotionControlNode_a372b6363a6aaa816636bb3dc9e371eb1}} 
rclcpp\+::\+Publisher$<$ geometry\+\_\+msgs\+::msg\+::\+Twist $>$\+::Shared\+Ptr {\bfseries cmd\+\_\+vel\+\_\+pub\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Recieves lane positions, calculate lane center and steer to keep the vehicle in the center of the lane. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classMotionControlNode_a2c48d9d1ef7222d03c69f8dc86cd1842}\label{classMotionControlNode_a2c48d9d1ef7222d03c69f8dc86cd1842}} 
\index{Motion\+Control\+Node@{Motion\+Control\+Node}!find\+Lane\+Center@{find\+Lane\+Center}}
\index{find\+Lane\+Center@{find\+Lane\+Center}!Motion\+Control\+Node@{Motion\+Control\+Node}}
\subsubsection{\texorpdfstring{find\+Lane\+Center()}{findLaneCenter()}}
{\footnotesize\ttfamily Point32 Motion\+Control\+Node\+::find\+Lane\+Center (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ double $>$ \&}]{left\+\_\+coefs,  }\item[{const std\+::vector$<$ double $>$ \&}]{right\+\_\+coefs,  }\item[{int}]{img\+\_\+height }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Find lane center at fix distance img\+\_\+height -\/ \char`\"{}lookahead\+\_\+index\char`\"{}. 

Lane center will always be found since when a lane is missing it is infered


\begin{DoxyParams}{Parameters}
{\em left\+\_\+coefs} & \\
\hline
{\em right\+\_\+coef} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
y position of the lane center at index \char`\"{}lookahead\char`\"{} 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lane\+\_\+keeping\+\_\+ws/src/motion\+\_\+control/includes/Motion\+Control\+Node.\+hpp\item 
lane\+\_\+keeping\+\_\+ws/src/motion\+\_\+control/src/Motion\+Control\+Node.\+cpp\end{DoxyCompactItemize}
